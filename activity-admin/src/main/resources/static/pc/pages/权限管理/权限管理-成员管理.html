<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/lib/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../../assets/lib/zTree_v3/css/zTreeStyle/zTreeStyle.css" type="text/css">
    <link rel="stylesheet" href="../../assets/css/public.css">
    <link rel="stylesheet" href="../../assets/css/dialog.css">
    <link rel="stylesheet" href="../../assets/css/limits-manage.css">
    <title>权限管理-成员管理</title>
</head>

<body>
    <div class="limits-manage" id="limits-manage" v-cloak>
        <div class="manage-content">
            <div class="breadcrumb-box">
                <a href="#" class="item"><span>权限管理</span><i class="icon-arrow"></i></a>
                <a href="#" class="item"><span>院系管理员</span></a>
              </div>
            <div class="clear">
                <div class="normal-btn marginRigth24 fl" @click="chooseDialog = true">
                    <i class="add-icon"></i>
                    <span>添加成员</span>
                </div>
                <div v-show="!checkAllStatus" class="border-btn disable fl">批量删除</div>
                <div v-show="checkAllStatus" class="border-btn fl">批量删除</div>
            </div>
            <table class="table-box member-table">
                <thead>
                    <tr>
                        <th class="check-box">
                            <el-checkbox v-model="checkAllStatus" class="check-item-checkbox fl"
                                @change="checkAllChange">
                            </el-checkbox>
                        </th>
                        <th>姓名</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th class="check-box">
                            <el-checkbox v-model="checkedStatus[0]" class="check-item-checkbox fl" @change="checkChangeHandle"></el-checkbox>
                        </th>
                        <th>何颖琪</th>
                        <th>
                            <span @click="delDialog=true">删除</span>
                        </th>
                    </tr>
                    <tr>
                        <th class="check-box">
                            <el-checkbox v-model="checkedStatus[1]" class="check-item-checkbox fl" @change="checkChangeHandle"></el-checkbox>
                        </th>
                        <th>钱琳</th>
                        <th>
                            <span @click="delDialog=true">删除</span>
                        </th>
                    </tr>
                    <tr>
                        <th class="check-box">
                            <el-checkbox v-model="checkedStatus[2]" class="check-item-checkbox fl" @change="checkChangeHandle"></el-checkbox>
                        </th>
                        <th>郑哲隽</th>
                        <th>
                            <span @click="delDialog=true">删除</span>
                        </th>
                    </tr>
                    <tr style="display: none;">
                        <th class="no-content">暂无内容</th>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 确认删除模块弹框 -->
        <div class="dialog-mask" v-show="delDialog">
            <div class="dailog delete-dailog">
                <img src="../../assets/images/yq-design/warn.png" alt="">
                <p class="text">确定删除吗？</p>
                <div class="btn-box">
                    <div class="border-btn" @click="delDialog=false">保留</div>
                    <div class="normal-btn" @click="handleSure">删除</div>
                </div>
            </div>
        </div>
        <!-- 选人弹窗 -->
        <div class="dialog-mask" v-show="chooseDialog">
            <div class="dailog choose-dialog">
                <div class="header">
                    <span>选择人员</span>
                    <i class="close" @click="chooseDialog=false"></i>
                </div>
                <div class="body">
                    <div class="choose-list fl">
                        <div class="search">
                            <el-input type="text" class="search-ipt" placeholder="姓名/手机号" v-model="addIptValue" @input="addIptValueHandle"></el-input>
                            <i class="icon close" v-show="closeValue" @click="clearIptValue"></i>
                            <i class="icon search-icon"></i>
                        </div>
                        <div class="crumb">
                            <ul class="clear">
                                <li class="back-item">全部<i class="icon-right"></i> </li>
                                <li>通讯录1</li>
                            </ul>
                        </div>
                        <div class="catalog-list">
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog1.png" alt="">
                                </div>
                                <div class="catalog-title lineH20">
                                    层级名称层级名称层级名称层级名称层级名称
                                </div>
                                <img class="right-img" src="../../assets/images/chevron-right.png" alt="">
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog1.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    层级名称层级名
                                </div>
                                <img class="right-img" src="../../assets/images/chevron-right.png" alt="">
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog2.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <img class="right-img" src="../../assets/images/chevron-right.png" alt="">
                            </div>
                            <div :class='["catalog-item",checked==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked1==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked1"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                            <div :class='["catalog-item",checked2==true ? "bgc-blue" : ""]'>
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    小组名称
                                </div>
                                <el-checkbox class="right-check" v-model="checked2"></el-checkbox>
                            </div>
                        </div>
                        <div class="loading">
                            <img src="../../assets/images/Spinner-1s-200px.svg" alt="">
                            <span>加载中...</span>
                        </div>
                        <div class="empty-content" style="display: none;">
                            无搜索结果
                        </div>
                    </div>
                    <div class="item-choosed fl">
                        <div class="choose-number">已选&nbsp;0&nbsp;人</div>
                        <div class="catalog-list">
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                            <div class="catalog-item">
                                <div class="catalog-photo">
                                    <img src="../../assets/images/catalog-tx.png" alt="">
                                </div>
                                <div class="catalog-title">
                                    侯伟
                                </div>
                                <div class="del-img"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="btn-box">
                        <div class="border-btn" @click="chooseDialog=false">取消</div>
                        <div class="normal-btn">确定</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="toast" v-show="delSuccess">删除成功</div>
        <div class="toast" style="display: none;">添加成功</div>
    </div>
</body>


</html>
<script type="text/javascript" src="../../assets/lib/vue.js"></script>
<script type="text/javascript" src="../../assets/lib/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/lib/jquery.nicescroll.min.js"></script>
<script type="text/javascript" src="../../assets/lib/element-ui/lib/index.js"></script>
<script type="text/javascript" src="../../assets/lib/zTree_v3/js/jquery.ztree.core.js"></script>
<script type="text/javascript" src="../../assets/lib/zTree_v3/js/jquery.ztree.excheck.min.js"></script>
<script type="text/javascript" src="../../assets/lib/zTree_v3/js/jquery.ztree.exedit.js"></script>
<script>
    var vm = new Vue({
        el: '#limits-manage',
        data: function () {
            return {
                checkAllStatus: false,
                checkedStatus: [false, false, false, false],
                delDialog: false,
                delSuccess: false,
                chooseDialog: false,
                addIptValue: '',
                closeValue: false,
                checked: false,
                checked1: false,
                checked2: false
            }
        },
        created: function () {
            
        },
        mounted: function () {
            this.initScroll()
        },
        methods: {
            checkChangeHandle: function () {
                if (this.checkedStatus.indexOf(true) >= 0) {
                    this.checkAllStatus = true;
                } else {
                    this.checkAllStatus = false;
                }
            },
            checkAllChange: function () {
                for (var i = 0; i < this.checkedStatus.length; i++) {
                    this.checkedStatus[i] = this.checkAllStatus
                }
            },
            handleSure: function () {
                var that = this
                this.delSuccess = true
                this.delDialog = false
                setTimeout(function(){
                    that.delSuccess = false
                }, 3000);
            },
            // 监听添加弹框input
            addIptValueHandle: function () {
                if (this.addIptValue.trim() !== "") {
                    this.closeValue = true
                } else {
                    this.closeValue = false
                }
            },
            // 清空输入框的值
            clearIptValue: function () {
                this.addIptValue = "";
                this.closeValue = false;
            },
            initScroll: function () {
                $(".item-choosed,.choose-list").niceScroll({
                    cursorborder: "",
                    cursorwidth: 8,
                    cursorcolor: "#DADADA",
                    boxzoom: false,
                    autohidemode: true
                });
                $(".item-choosed,.choose-list").getNiceScroll().resize();
            }
        }
    });
</script>
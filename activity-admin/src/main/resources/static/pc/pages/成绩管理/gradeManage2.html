<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>成绩管理2</title>
    <link rel="stylesheet" href="../../assets/lib/jquery.mCustomScrollbar.css">
    <link rel="stylesheet" href="../../assets/css/create.css">
    <link rel="stylesheet" href="../../assets/lib/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../../assets/css/reset.css">
    <link rel="stylesheet" href="../../assets/css/public.css">
    <link rel="stylesheet" href="../../assets/css/gradeManage.css">
</head>
<body>
<div class="grade-manage-container" id="gradeManageApp">
    <div class="tab-box">
        <span :class="{current:curStatus==0}" @click="initTab(0)">待审核</span>
        <span :class="{current:curStatus==1}" @click="initTab(1)">合格</span>
        <span :class="{current:curStatus==2}" @click="initTab(2)">不合格</span>
        <button class="ui-btn fr">导出</button>
    </div>
    <div class="content">
        <div class="btns">
            <button class="ui-btn btn-disabled">批量合格</button>
            <button class="ui-btn btn-disabled">批量不合格</button>
        </div>

        <el-table
                :data="tableData"
                class="ui-list-box"
                style="width: 100%">

            <el-table-column type="expand">
                <template slot-scope="props">
                    <table class="item-info">
                        <tr>
                            <th class="row1">姓名</th>
                            <th class="row2">时间</th>
                            <th class="row3">状态</th>
                            <th class="row4">查看</th>
                        </tr>
                        <tr v-for="item in props.row.info">
                            <td class="row1">{{item.name}}</td>
                            <td class="row2">时间</td>
                            <td class="row3">状态</td>
                            <td class="row4">查看</td>
                        </tr>
                    </table>
                </template>
            </el-table-column>
            <el-table-column
                    type="selection"
                    width="55">
            </el-table-column>
            <el-table-column
                    label="姓名"
                    prop="name">
            </el-table-column>
            <el-table-column
                    label="签到率"
                    prop="qdl">
            </el-table-column>
            <el-table-column
                    label="评价"
                    prop="evaluate">
            </el-table-column>
            <el-table-column label="操作">
                <template slot-scope="scope">
                    <span>合格</span>
                    <span>不合格</span>
                </template>
            </el-table-column>
        </el-table>
    </div>

</div>


<script src="../../assets/lib/jquery.min.js"></script>
<script src="../../assets/lib/vue.js"></script>
<script src="../../assets/lib/element-ui/lib/index.js"></script>
<script src="../../assets/lib/jquery.mousewheel.min.js"></script>
<script src="../../assets/lib/jquery.mCustomScrollbar.js"></script>
<script>
    var app = new Vue({
        el: '#gradeManageApp',
        data: {
            curStatus: 0,
            allchecked: false,
            name: false,
            tableData: [{
                id: '12987122',
                name: '好滋好味鸡蛋仔1',
                qdl: '50%',
                evaluate: '5分',
                info:[{
                    name:'张三',
                    time:'10-17 16:32',
                    pl:'未评价',
                    edit:['合格','不合格']
                }]

            }, {
                id: '12987123',
                name: '好滋好味鸡蛋仔1',
                qdl: '50%',
                evaluate: '5分',
                info:[{
                    name:'张三',
                    time:'10-17 16:32',
                    pl:'未评价',
                    edit:['合格','不合格']
                }]
            }, {
                id: '12987125',
                name: '好滋好味鸡蛋仔1',
                qdl: '50%',
                evaluate: '5分',
                info:[{
                    name:'张三',
                    time:'10-17 16:32',
                    pl:'未评价',
                    edit:['合格','不合格']
                }]
            }, {
                id: '12987126',
                name: '好滋好味鸡蛋仔1',
                qdl: '50%',
                evaluate: '5分',
                info:[{
                    name:'张三',
                    time:'10-17 16:32',
                    pl:'未评价',
                    edit:['合格','不合格']
                }]
            }]

        },
        mounted: function () {
            this.initDownUp();

        },
        methods: {
            initTab: function (index) {
                this.curStatus = index;
            },
            //    展开收起
            initDownUp: function () {
                $('.grade-manage-container').on('click', '.list-box .icon-info', function () {
                    $(this).parents('.list-item').toggleClass('item-down').siblings().removeClass('item-down');
                    $(this).parents('.list-item').siblings().find('.item-info').slideUp();
                    $(this).parents('.list-item').find('.item-info').slideToggle();

                })
            }


        }
    })
</script>
</body>
</html>
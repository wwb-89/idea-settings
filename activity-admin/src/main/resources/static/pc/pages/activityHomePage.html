<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/lib/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../assets/css/activityHomePage.css">
    <title>创建活动</title>
</head>

<body>
    <div class="container" id="vue">
        <div class="slider">
            <div class="title color333">
                <div class="title-box">
                    <div class="img-box js-crop-img">
                        <img src="../assets/images/touxiang.png" alt="">
                    </div>
                    <span class="title-name ">成都少儿阅读活动成都少儿阅读活动成都少儿阅读活动</span>
                    <div class="clear"></div>
                </div>
                <div class="title-pop">
                    <div class="img">
                        <img src="../assets/images/example.jpg" alt="">
                    </div>
                    <div class="pop-info">
                        <p class="color333 fs14 font600">书香浙江 云享阅读2020浙江省云阅读计划之“晒书房计划之“晒书房</p>
                        <p class="color666 fs14 info-time">2020.10.10 9:00 ～ 2028.10.1 16:00</p>
                        <div id="qrCodeMini" v-on:click="qrPopFunc"></div>
                        <p class="fs12 color999">扫码访问首页</p>
                    </div>
                </div>
            </div>
            <hr class="divider">
            <div class="menu color333">
                <div class="entry menu-item ">
                    <div class="item ">
                        <img src="../assets/images/icon-name-list-active.png">
                        <span>
                            报名表单
                        </span>
                    </div>
                    <div class="item">
                        <img src="../assets/images/icon-sign-in-default.png">
                        <span>
                            签到管理
                        </span>
                    </div>

                    <div class="item active">
                        <img src="../assets/images/icon-grade-manage-active.png">
                        <span>
                            考核管理
                        </span>
                    </div>
                    <div class="item">
                        <img src="../assets/images/icon-organizer-default.png">
                        <span>
                            管理员
                        </span>
                    </div>

                    <div class="item">
                        <img src="../assets/images/icon-notice-default.png">
                        <span>
                            发通知
                        </span>
                    </div>
                    <div class="item">
                        <img src="../assets/images/icon-statistics-default.png">
                        <span>
                            统计
                        </span>
                    </div>
                </div>
            </div>
            <div class="edit" style="display: none;">
                <div class="item">
                    <img src="../assets/images/icon-edit-default.png">
                    <span>
                        编辑活动
                    </span>
                </div>
            </div>
        </div>
        <div class="content">
<!--            <iframe id="ifr" src="test2.html"></iframe>-->
        </div>
        <!--正常二维码-->
        <el-dialog
                :visible.sync="dialogQrCodeVisible"
                    custom-class="qrCode-dialog"
                width="428px"
                center>
            <div class="inner">
                <div id="qrCode"></div>
                <p class="tips">扫码访问</p>
            </div>

        </el-dialog>
    </div>
</body>
</html>
<script type="text/javascript" src="../assets/lib/jquery.min.js"></script>
<script src="../../assets/js/vue.min.js"></script>
<script src="../assets/lib/layui/layui.js"></script>
<script src="../assets/lib/element-ui/lib/index.js"></script>
<script src="../assets/lib/jquery.qrcode.min.js"></script>
<script src="../assets/js/common.js"></script>
<script src="../assets/lib/jqthumb.js"></script>
<script>
    window.onload = function () {
        resizePageHeight();
        cropImgFun('.title-box');
    };

    function resizePageHeight () {
        // container的最小高度
        var containerMinHeight = $(".container").css("min-height");
        containerMinHeight = containerMinHeight.replace(/px/gi, "");
        var containerHeight = $(".container").height();
        // 窗口的高度
        var windowHeight = $(window).height() - 40;
        // iframe的高度
        var iframeHeight = $("#content").height();
        // iframe中内容的真实高度
        var iframeContentHeight = $("#content").contents().find("body").find("div:first-child").height() + 24;
        // container应该取最大高度
        var maxHeight = containerMinHeight > containerHeight ? containerMinHeight : containerHeight;
        maxHeight = maxHeight > windowHeight ? maxHeight : windowHeight;
        maxHeight = maxHeight > iframeHeight ? maxHeight : iframeHeight;
        maxHeight = maxHeight > iframeContentHeight ? maxHeight : iframeContentHeight;
        // 如果窗口高度能满足最大高度就是用窗口高度
        if (windowHeight > iframeContentHeight) {
            maxHeight = windowHeight;
        }
        $(".container").height(maxHeight);
        $("#content").height(maxHeight);
        $("#content").contents().find("body").height(maxHeight);
    }

    var vm = new Vue({
        el: '#vue',
        data: function () {
            return {
                dialogQrCodeVisible: true,
            }
        },
        created: function () {


        },
        mounted: function () {
            this.$nextTick(function (){
                $('#qrCodeMini').qrcode({
                    text: "http://www.jq22.com",
                    width: 62,
                    height: 62
                });
              $('#qrCode').qrcode({
                text: "http://www.jq22.com",
                width: 300,
                height: 300
              });
            });

        },
        methods: {
          qrPopFunc: function () {
            this.dialogQrCodeVisible=true;
          }
        }
    });

</script>

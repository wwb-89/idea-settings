<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/lib/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../../assets/table-icomoon/style.css">
    <link rel="stylesheet" href="../../assets/css/public.css">
    <link rel="stylesheet" href="../../assets/css/confirm_dialog.css">
    <link rel="stylesheet" href="../../assets/css/commonTable.css">
    <link rel="stylesheet" href="../../assets/css/prize-manage.css">
    <title>添加获奖者</title>
</head>
<body>
    <div class="add-prizer" id="prize-manage" v-cloak>
        <div class="crumb-box">
            <div class="crumb-title">
                <i class="left"></i>
                <a href="javascript:;">选择获奖者</a>
            </div>
            <div class="normal-btn-w80 fr">完成</div>
        </div>
        <div class="content-box">
            <!-- 操作栏 -->
            <div class="table-operate-box fs0">
                <el-radio-group v-model="radio">
                    <el-radio label="1" >参与者</el-radio>
                    <el-radio label="2" >组织者</el-radio>
                </el-radio-group>
                <div class="search-box">
                    <el-input placeholder="搜索"
                              icon="search"
                              class="search"
                              v-model="search"
                              @input="inputFunc"
                              suffix-icon="el-icon-search">
                    </el-input>
                    <i class="icon-cancel btn-cancel" v-show="inputlen" @click="clearInput"></i>
                </div>
            </div>
            <div v-if="radio==1">
                <!-- 计数栏 -->
                <div class="table-count-box fs12">
                    <div class="count-info fl">
                        <span class="colorBlue marginr8">已选择 {{selectNumber}} 人</span>
                        <span class="color999">共 100 人，剩余名额 20</span>
                    </div>
                    <div class="setting-box">
                        <el-dropdown :hide-on-click="false" trigger="click">
                            <el-tooltip class="item" effect="dark" content="显示字段" placement="top">
                                <span class="icon-setting fs16"></span>
                            </el-tooltip>
                            <el-dropdown-menu slot="dropdown" class="set-dropdown">
                                <div class="dropdown-lists">
                                    <el-dropdown-item v-for="(item, index) in dropdwonLists">
                                        <el-checkbox v-model="item.show" :disabled="item.disabled"> {{item.name}}</el-checkbox>
                                        <el-tooltip v-if="item.flag" class="item" effect="dark" content="取消固定列" placement="top">
                                            <i class="btn-fix icon-pinned fs16" @click="item.flag = !item.flag"></i>
                                        </el-tooltip>
                                        <el-tooltip v-else class="item" effect="dark" content="固定列" placement="top">
                                            <i class="btn-fix icon-pin fs16" @click="item.flag = !item.flag"></i>
                                        </el-tooltip>
                                    </el-dropdown-item>
                                </div>
                                <div class="bottom-btns fs14 colorBlue">
                                    <el-button type="text" class="btn-confirm is-disabled">确定</el-button>
                                    <el-button type="text" class="btn-reset" @click="resetCheckFunc">重置</el-button>
                                </div>
                            </el-dropdown-menu>
                        </el-dropdown>
                    </div>
                    <div class="clear"></div>
                </div>
                <el-table class="table-box" :data="tableTestData1" >
                    <el-table-column
                            :align="isLeft"
                            fixed
                            type="selection"
                            width="40">
                    </el-table-column>
                    <el-table-column
                            type="index"
                            :align="isCenter"
                            fixed
                            label="序号"
                            width="50">
                    </el-table-column>
                    <el-table-column
                            :align="isLeft"
                            fixed
                            prop="name"
                            label="姓名"
                            width="82">
                            <template slot-scope="scope">
                                <span class="colorBlue">{{scope.row.name}}</span>
                            </template>
                    </el-table-column>
                    <el-table-column
                            :align="isCenter"
                            prop="sign"
                            sortable
                            label="签到数"
                            width="114">
                    </el-table-column>
                    <el-table-column
                            :align="isCenter"
                            prop="percent"
                            sortable
                            label="签到率"
                            width="114">
                    </el-table-column>
                    <el-table-column
                            :align="isCenter"
                            prop="number"
                            sortable
                            label="评价数"
                            width="114">
                    </el-table-column>
                    <el-table-column
                            :align="isCenter"
                            prop="score"
                            sortable
                            label="积分"
                            width="228">
                    </el-table-column>
                    <el-table-column
                            :align="isLeft"
                            class-name="th-dropdwon"
                            prop="status"
                            label="状态"
                            width="171"
                            :filters="filterLists1"
                            :filter-method="filterTag"
                            filter-placement="bottom">
                    </el-table-column>
                    <el-table-column
                            :align="isLeft"
                            class-name="th-dropdwon"
                            prop="prize"
                            label="奖项"
                            min-width="228"
                            :filters="filterLists2"
                            :filter-method="filterTag"
                            filter-placement="bottom">
                    </el-table-column>
                </el-table>
                <el-pagination
                        background
                        layout="prev, pager, next"
                        :total="200">
                </el-pagination>
            </div>
            <div v-else>
                <!-- 计数栏 -->
                <div class="table-count-box fs12">
                    <div class="count-info fl">
                        <span class="colorBlue marginr8">已选择 {{selectNumber}} 人</span>
                        <span class="color999">共 100 人</span>
                    </div>
                    <div class="clear"></div>
                </div>
                <el-table class="table-box" :data="tableTestData2" >
                    <el-table-column
                            :align="isLeft"
                            fixed
                            type="selection"
                            width="40">
                    </el-table-column>
                    <el-table-column
                            type="index"
                            :align="isCenter"
                            fixed
                            label="序号"
                            width="50">
                    </el-table-column>
                    <el-table-column
                            :align="isLeft"
                            fixed
                            prop="name"
                            label="姓名"
                            width="258">
                            <template slot-scope="scope">
                                <span class="colorBlue">{{scope.row.name}}</span>
                            </template>
                    </el-table-column>
                    <el-table-column
                            :align="isLeft"
                            fixed
                            prop="account"
                            label="账号"
                            min-width="300">
                    </el-table-column>
                </el-table>
                <el-pagination
                        background
                        layout="prev, pager, next"
                        :total="200">
                </el-pagination>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javascript" src="../../assets/lib/vue.js"></script>
<script type="text/javascript" src="../../assets/lib/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/js/common.js"></script>
<script type="text/javascript" src="../../assets/lib/jquery.nicescroll.min.js"></script>
<script type="text/javascript" src="../../assets/lib/element-ui/lib/index.js"></script>
<script>
    var vm = new Vue({
        el: '#prize-manage',
        data: function () {
            return {
                radio:'1',
                search:'',
                inputlen:'',
                selectNumber:'0',
                isLeft:'left',
                isCenter:'center',
                dropdwonLists:[
                    {
                        name:'选中项',
                        flag: true,
                        disabled: false,
                        show: true,
                    },
                    {
                        name:'未选项',
                        flag: false,
                        disabled: false,
                        show: false,
                    },
                    {
                        name:'禁用项',
                        flag: false,
                        disabled: true,
                        show: true,
                    },
                    {
                        name:'文字选项超长文字选项超长文字选项超长文字选项超长文字选项超长文字选项超长',
                        flag: false,
                        disabled: false,
                        show: false,
                    },
                ],
                filterLists1:[
                    {
                        text: '合格',
                        value: '合格'
                    },
                    {
                        text: '不合格',
                        value: '不合格'
                    },
                ],
                filterLists2:[
                    {
                        text: '一等奖',
                        value: '一等奖'
                    },
                    {
                        text: '二等奖',
                        value: '二等奖'
                    },
                ],
                tableTestData1:[
                    {
                        name: '尹光瑶',
                        sign:'9',
                        percent:'48%',
                        number:'5',
                        score:'30',
                        status: '合格',
                        prize:'趣自然 · 阅当夏一等奖/一等奖/二等奖/三等奖',
                    },{
                        name: '尹光瑶',
                        sign:'6',
                        percent:'4%',
                        number:'7',
                        score:'3',
                        status: '合格',
                        prize:'无',
                    },{
                        name: '尹光瑶',
                        sign:'7',
                        percent:'9%',
                        number:'11',
                        score:'0',
                        status: '不合格',
                        prize:'无',
                    },{
                        name: '尹光瑶',
                        sign:'8',
                        percent:'88%',
                        number:'20',
                        score:'20',
                        status: '合格',
                        prize:'无',
                    },{
                        name: '尹光瑶',
                        sign:'5',
                        percent:'8%',
                        number:'10',
                        score:'30',
                        status: '不合格',
                        prize:'无',
                    },{
                        name: '尹光瑶',
                        sign:'5',
                        percent:'8%',
                        number:'10',
                        score:'30',
                        status: '不合格',
                        prize:'无',
                    },{
                        name: '尹光瑶',
                        sign:'5',
                        percent:'8%',
                        number:'10',
                        score:'30',
                        status: '不合格',
                        prize:'无',
                    }
                ],
                tableTestData2:[
                    {
                        name: '孙芳',
                        account: '18272676793',
                    },{
                        name: '赵雾瑕',
                        account: '18272676793',
                    },{
                        name: '赵妍',
                        account: '18272676793',
                    },{
                        name: '冯丽妍',
                        account: '18272676793',
                    },{
                        name: '王崇楦',
                        account: '18272676793',
                    },{
                        name: '钱佳益',
                        account: '18272676793',
                    },{
                        name: '李世斌',
                        account: '18272676793',
                    },{
                        name: '冯俊',
                        account: '18272676793',
                    }
                ]
            }
        },
        mounted: function () {
            
        },
        methods:{
            inputFunc(value){
                if(value.length>0){
                    this.inputlen = true;
                }else{
                    this.inputlen = false;
                }
            },
            clearInput(){
                this.search='';
                this.inputlen = false;
            },
            resetCheckFunc () {
                var _this = this;
                _this.dropdwonLists.filter(function (item) {
                    item.show = false;
                })
            },
            filterTag(value, row) {
                console.log(row)
                return row.status === value;
            },
        }
    })
</script>
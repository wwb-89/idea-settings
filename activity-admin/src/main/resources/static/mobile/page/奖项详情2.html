<!DOCTYPE html>
<html lang="en">

<head>
    <title>奖项详情</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" />
    <meta name="format-detection" content="telephone=no, email=no">
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <link rel="stylesheet" href="../assets/lib/layui/css/layui.css" />
    <link rel="stylesheet" href="../assets/lib/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../assets/css/public.css" />
    <link rel="stylesheet" href="../assets/css/dialog.css">
    <link rel="stylesheet" href="../assets/css/award-manage.css">
</head>

<body>
    <div class="award-container" id="award-container">
        <div class="searchDiv">
            <div class="searchbefore" v-show="!inputShowStatus" v-on:click="inputShow"><i></i><span>搜索</span>
            </div>
            <div class="searchafter" v-show="inputShowStatus">
                <input type="text" class="txt" placeholder="搜索" v-model="inputValue" v-on:input="wacthInput"
                    v-on:focus="modelShow(true)" v-on:focus="modelShow(false)">
                <i class="search"></i>
                <i class="delete" v-show="inputDeleteShow" v-on:click="inputDeleteFun"></i>
                <div class="cancle" v-on:click="inputShow">取消</div>
            </div>

        </div>
        <div class="people-num">
            <span class="total">共 0 人</span>
            <span class="sort fr" @click="sortDialogStatus=true">排序
                <img src="../assets/images/sort-icon.png" alt="">
            </span>
        </div>
        <ul class="people-list">
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>

            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
            <li class="people-item" data-type="0" @touchstart.capture="touchStart" @touchend.capture="touchEnd">
                <span class="check-btn" v-show="checkStatus">
                    <input type="checkbox" name="" id="">
                    <i class="icon-checkbox"></i>
                </span>
                <div class="detail-box">
                    <div class="people-detail">
                        <span class="img-box">
                            <img src="../assets/images/head-img.png" alt="">
                        </span>
                        <span class="people-name">李子奇</span>
                    </div>
                    <span class="fr score">活动分 998</span>
                </div>
                <div class="del-btn" @click="delDialogStatus=true">移除</div>
            </li>
        </ul>
        <!-- 加载中 -->
        <div class="loading-content">
            <img src="../assets/images/Spinner-1s-200px.svg" alt="">
            <span>加载中...</span>
        </div>
        <!-- 无数据 -->
        <div class="empty-content" style="display: none;">暂无内容</div>
        <!-- 底部按钮 -->
        <div class="bot-content" style="display: none;">
            <div class="bot-btn">添加获奖人</div>
        </div>
        <!-- 批量操作底部按钮 -->
        <div class="bot-content">
            <div class="edit-box">
                <div class="choose-box">
                    <span class="check-btn" v-show="checkStatus">
                        <input type="checkbox" name="" id="">
                        <i class="icon-checkbox"></i>
                    </span>
                    全选
                </div>
                <!-- 不可点击后加入后面的类名 -->
                <span class="del-btn" @click="delDialogStatus=true">移除</span>
                <!-- <span class="del-btn disabled-btn">移除</span> -->
            </div>
        </div>
        <!-- 排序弹框 -->
        <div class="dialog" v-if="sortDialogStatus">
            <div class="content">
                <div class="switch">
                    <div class="other-del">选择排序方式</div>
                    <div class="search">积分从高到低</div>
                    <div class="search">积分从低到高</div>
                    <div class="search">签到率从高到低</div>
                    <div class="search">签到率从低到高</div>
                </div>
                <div class="cancel" @click="sortDialogStatus=false">
                    取消
                </div>
            </div>
        </div>
        <!-- 移除弹框 -->
        <div class="dialog" v-if="delDialogStatus">
            <div class="content">
                <div class="switch">
                    <div class="other-del">确定删除吗?</div>
                    <div class="del" @click="delHanlde">移除</div>
                </div>
                <div class="cancel" @click="delDialogStatus=false">
                    取消
                </div>
            </div>
        </div>
        <!-- 提示弹框 -->
        <div class="toast" v-show="delToastStatus">删除成功</div>
        <!-- 遮挡层 -->
        <div class="model" v-show="modelShowStatus"></div>
    </div>

    <script src="../assets/lib/jquery.1.8.2.min.js"></script>
    <script src="../assets/lib/jqthumb.min.js"></script>
    <script src="../assets/lib/vue.js"></script>
    <script src="../assets/lib/element-ui/lib/index.js"></script>
    <script src="../assets/lib/layui/layui.js"></script>
    <script>
        $(function () {
            $(".edit-box").find(".check-btn input[type=checkbox]").on("click", function () {
                if ($(this).prop("checked")) {
                    $(".people-item").find("input[type=checkbox]").prop('checked', true);
                } else {
                    $(".people-item").find("input[type=checkbox]").prop('checked', false);
                }
            })
        })

        var vm = new Vue({
            el: '#award-container',
            data: function () {
                return {
                    inputShowStatus: false,
                    inputValue: '',
                    inputDeleteShow: false,
                    modelShowStatus: false,
                    // 单选框
                    checkStatus: true,
                    // 排序弹框
                    sortDialogStatus: false,
                    // 移除弹框
                    delDialogStatus: false,
                    // 删除后的提示弹框
                    delToastStatus: false
                }
            },
            methods: {
                // input触发
                inputShow: function () {
                    this.inputShowStatus = !this.inputShowStatus;
                    this.modelShowStatus = false;
                },
                //输入框的交互
                inputDeleteFun: function () {
                    this.inputValue = "";
                    this.inputDeleteShow = false;
                },
                wacthInput: function () {
                    if (this.inputValue != "") {
                        this.inputDeleteShow = true;
                    } else {
                        this.inputDeleteShow = false;
                    }
                },
                modelShow: function (bool) {
                    this.modelShowStatus = bool;
                },
                //滑动开始
                touchStart(e) {
                    this.startX = e.touches[0].clientX;
                },
                //滑动结束
                touchEnd(e) {
                    let currentElement = e.currentTarget;
                    this.endX = e.changedTouches[0].clientX;
                    // 左滑
                    if (currentElement.dataset.type == 0 && this.startX - this.endX > 30) {
                        this.restSlide();
                        currentElement.dataset.type = 1;
                    }
                    // 右滑
                    if (currentElement.dataset.type == 1 && this.startX - this.endX < -30) {
                        this.restSlide();
                        currentElement.dataset.type = 0;
                    }
                    this.startX = 0;
                    this.endX = 0;
                },
                //复位滑动状态
                restSlide() {
                    let itemList = document.querySelectorAll('.people-item');
                    for (let i = 0; i < itemList.length; i++) {
                        itemList[i].dataset.type = 0;
                    }
                },
                delHanlde: function () {
                    var _this = this;
                    this.delDialogStatus = false;
                    this.delToastStatus = true;
                    setTimeout(function () {
                        _this.delToastStatus = false
                    }, 1500)
                }
            },
        })
    </script>
</body>

</html>